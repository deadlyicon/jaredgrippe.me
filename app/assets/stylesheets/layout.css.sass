@import "compass/css3"

=keyframes($name)
  @-webkit-keyframes #{$name}
    @content
  @-moz-keyframes #{$name}
    @content
  @-ms-keyframes #{$name}
    @content
  @keyframes #{$name}
    @content

+keyframes(rotate)
  from
    -webkit-transform: rotate(0deg)
  to
    -webkit-transform: rotate(360deg)

body,html
  height: 100%
  width: 100%

#background
  z-index: -1
  position: absolute
  overflow: hidden
  top: 0
  left: 0
  width: 100%
  height: 100%
  background: blue

  > .mask
    position: absolute
    overflow: hidden
    top: 0
    left: 0
    bottom: 0
    right: 0
    +background-image(radial-gradient(center center, rgba(0, 0, 255, 0) 0%, rgba(0, 0, 255, 1) 60%))


  > .god-rays
    $height: 150px
    $width: 2000px
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    display: table
    +experimental(animation-name, rotate,              -moz, -webkit, -o, -ms, not -khtml, official)
    +experimental(animation-duration, 60s,             -moz, -webkit, -o, -ms, not -khtml, official)
    +experimental(animation-iteration-count, infinite, -moz, -webkit, -o, -ms, not -khtml, official)
    +experimental(animation-timing-function, linear,   -moz, -webkit, -o, -ms, not -khtml, official)

    > .stage
      position: relative
      top: $height * -0.5
      display: table-cell
      vertical-align: middle
      width: 100%
      height: 100%

    .god-ray
      position: absolute
      height: $height
      width: 100%
      div
        position: absolute
        top: $height * -0.5
        right: 50%
        bottom: 0
        height: 0
        width: 0
        border-width: $height 0 $height $width
        border-color: transparent transparent transparent darkblue
        border-style: solid
      @for $i from 1 through 24
        &.n-#{$i}
          +rotate(#{(360 / 24) * $i}deg)


#content
  margin: 0 auto
  width: 960px
  min-height: 100%
